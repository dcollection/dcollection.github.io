<!doctype html>
<html lang="en">
  <head>

    <title>Hello, world!</title>
	<style>
html,body{
  width: 100%;
  height: 100%;
}

body
{
    background: url('background.jpg')top center no-repeat; 
    background-size:cover;
}

.container{
   width:100%;
   height:100%;
}





</style>
  </head>
  <body>
<div class="container" id="pwd-container">
  

</div>

	
<script>
    lastMotionUpdateTime = 0;
	lastOrientationUpdateTime = 0;

	window.addEventListener('load', function() {
            var events = [
                // 'MSPointerDown',
                // 'MSPointerUp',
                // 'MSPointerCancel',
                // 'MSPointerMove',
                // 'MSPointerOver',
                // 'MSPointerOut',
                // 'MSPointerEnter',
                // 'MSPointerLeave',
                // 'MSGotPointerCapture',
                // 'MSLostPointerCapture',
                // 'pointerdown',
                // 'pointerup',
                // 'pointercancel',
                // 'pointermove',
                // 'pointerover',
                // 'pointerout',
                // 'pointerenter',
                // 'pointerleave',
                // 'gotpointercapture',
                // 'lostpointercapture',
                'touchstart',
                'touchmove',
                'touchend',
                'touchenter',
                'touchleave',
                'touchcancel',
                // 'mouseover',
                // 'mousemove',
                // 'mouseout',
                // 'mouseenter',
                // 'mouseleave',
                // 'mousedown',
                // 'mouseup',
                // 'focus',
                // 'blur',
                // 'click',
                // 'webkitmouseforcewillbegin',
                // 'webkitmouseforcedown',
                // 'webkitmouseforceup',
                // 'webkitmouseforcechanged'
            ];
	var b = document.getElementById('pwd-container');
	var o = document.getElementById('o');
	

	report = function(e) {
		// force
		var s = {};
		s.type = e.type;
		if ((typeof(e.targetTouches) != 'undefined') && (e.targetTouches.length > 0) && (typeof(e.targetTouches[0].force) != 'undefined')) {
			s.force = e.targetTouches[0].force;
		    
			point = e.targetTouches[0];
			
			// radius and angle

           	touchPoint = {}
			touchPoint.rotationAngle = point.rotationAngle || 0;
	        touchPoint.radiusX = point.radiusX || 40;
	        touchPoint.radiusY = point.radiusY || 40;

			s.touchPoint = touchPoint;
		
		
		} else if (typeof(e.webkitForce) != 'undefined') {
			s.force = e.webkitForce;
		} else if (typeof(e.pressure) != 'undefined') {
			s.force = e.pressure;
		}
		
		// position
		p = {}
		if ((e.changedTouches) && (e.changedTouches.length > 0)) {
			p.screenX = e.changedTouches[0].screenX;
			p.screenY = e.changedTouches[0].screenY;
			p.clientX = e.changedTouches[0].clientX;
			p.clientY = e.changedTouches[0].clientY;
			p.pageX = e.changedTouches[0].pageX;
			p.pageY = e.changedTouches[0].pageY;
			s.position = p;
		} else if (e.clientX && e.clientY) {
			p.screenX = e.screenX;
			p.screenY = e.screenY;
			p.clientX = e.clientX;
			p.clientY = e.clientY;
			p.pageX = e.pageX;
			p.pageY = e.pageY;
			s.position = p;
		}
		
		// time
		// the number of milliseconds since midnight, January 1, 1970.
		/* Hack - would normally use e.timeStamp but it's whack in Fx/Android
		   As a result, the timings will be slightly inflated due to processing*/
		var now = new Date().getTime();
		s.time = now;
		

		
		
		output(s);
	}
	
	

	/* Hack to work around new iOS8 behavior where innerHTML counts as a content change - previously, it was safe to use, see http://www.quirksmode.org/blog/archives/2014/02/the_ios_event_c.html */
	output = function(s) {
		console.log(JSON.stringify(s))
	}

	for (var i=0; i<events.length; i++) {
		b.addEventListener(events[i], report, false);
	}
	
	
    }, true);


    if ('DeviceOrientationEvent' in window) {
        window.addEventListener('deviceorientation', deviceOrientationHandler, false);
    }
	
	function deviceOrientationHandler (e) {
		var s = {}
		
		s.type = e.type;
		
		s.yAxis = e.gamma;
        s.xAxis = e.beta;
        s.zAxis = e.alpha;
		
		var now = new Date().getTime();
		s.time = now;
		
	    if (lastOrientationUpdateTime == 0 || (s.time - lastOrientationUpdateTime > 1000)) {
		    output(s);
			lastOrientationUpdateTime = s.time;
		}
	}
	
	if ('DeviceMotionEvent' in window) {
        window.addEventListener('devicemotion', handleMotion, false);
    }
	
	function handleMotion (e) {
		var s = {}
		
		s.type = e.type;
		
        s.acceleration = {"x":e.acceleration.x, "y":e.acceleration.y, "z":e.acceleration.z}
        s.accelerationIncludingGravity = {"x":e.accelerationIncludingGravity.x, "y":e.accelerationIncludingGravity.y, "z":e.accelerationIncludingGravity.z}
        s.rotationRate = {"x":e.rotationRate.beta, "y":e.rotationRate.gamma, "z":e.rotationRate.alpha}
		
		var now = new Date().getTime();
		s.time = now;
		
	    if (lastMotionUpdateTime == 0 || (s.time - lastMotionUpdateTime > 1000)) {
		    output(s);
			lastMotionUpdateTime = s.time;
		}
	}
</script>
  </body>
</html>